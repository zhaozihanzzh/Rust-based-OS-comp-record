# 4 月 22 日

## RISC-V

阅读了 RISC-V 手册的一些导言。

### 原子指令

两种类型原子操作：

- 内存原子操作 AMO （对内存中的操作数执行一个原子操作，将目标寄存器设为操作前的内存值）
- load reserved / store conditional

load reserved 读取一个内存字，存入目标寄存器并在内存上标记 reserved。中断、其他处理器写入都会导致标记消除。如果标记未被消除时，则把字存入这个地址，并向目标寄存器写入 0；否则，不存入字，向目标寄存器写入非 0 的错误代码。

## 总结

计划看手册的 RISC-V 汇编和特权架构部分。