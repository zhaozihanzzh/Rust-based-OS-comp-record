# 4 月 3 日

有了网络了，补上视频。

## 基本语法

### 向量

```Vec<T>``` 是可增长的数组，使用 ```Vec::new()``` 或 ```vec!``` 宏创建。

访问元素时必须用 ```usize```，其他类型需要显式转换。（为了安全）

### 类型转换

用 ```as``` 进行类型转换：```let y: u32 = x as u32;```

### 引用

类型前的 ```&``` 是取引用，用 ```*``` 解引用。Rust 保证引用是安全的。

### 条件语句

有 ```if```，```loop```，```for```
```rust
let z = loop {
    ...
    break value;
}
```

loop 中 ```break``` 可以返回值。

```for``` 和 C++ 中的范围循环类似，迭代器：```n..m```，```n..=m``` 分别是前闭后开与闭区间。

```rust
for x in 0..10 {
    ...
}
```

数组，切片，向量等均可以作为迭代器。

### 匹配语句
```rust
let x = 10;
match x {
    1 => ...,
    2 => {
        ...,
    }, // comma optional after }
    _ => ..., // Default
}
```

### 函数定义
```rust
fn foo(x: T, y: U) -> T {
    // ...
}
```
函数最后一个表达式（无分号时）是其返回值。

### 宏

以叹号结尾。

```print!```、```println!``` 中 {} 用于字符串插入， {:?} 用于调试输出，如 ```println!("{a:?}");```。
```panic!``` 显示提示信息并退出当前任务，并不优雅。

### 注释

与 C++ 相似。/// 开头的是文档字符串注释，可以被工具提取。

### 代码风格

CamelCase 类型名，snake_case 变量、函数名。缩进 4 空格。

## 总结

目前的了解还较为初步。明天计划看后面的所有权和结构化数据。